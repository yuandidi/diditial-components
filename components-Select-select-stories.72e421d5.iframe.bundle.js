"use strict";(self.webpackChunkdiditial=self.webpackChunkdiditial||[]).push([[629],{"./src/components/Select/select.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{DefaultSelect:()=>DefaultSelect,DisabledSelect:()=>DisabledSelect,MultipleSelect:()=>MultipleSelect,__namedExportsOrder:()=>__namedExportsOrder,default:()=>select_stories});var react=__webpack_require__("./node_modules/react/index.js"),Input_input=__webpack_require__("./src/components/Input/input.tsx"),transition=__webpack_require__("./src/components/Transition/transition.tsx"),useClickOutSide=__webpack_require__("./src/hooks/useClickOutSide.tsx"),classnames=__webpack_require__("./node_modules/classnames/index.js"),classnames_default=__webpack_require__.n(classnames),icon=__webpack_require__("./src/components/Icon/icon.tsx"),jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");const SelectContext=react.createContext({selectedValues:[]}),Select=_ref=>{let{defaultValue,placeholder="请选择",disabled,name="didi-select",onChange,children,multiple,onVisibleChange}=_ref;const[value,setValue]=(0,react.useState)(defaultValue||""),[menuOpen,setMenuOpen]=(0,react.useState)(!1),[selectedValues,setSelectedValues]=(0,react.useState)(Array.isArray(defaultValue)?defaultValue:[]),containerRef=(0,react.useRef)(null),input=(0,react.useRef)(null),containerWidth=(0,react.useRef)(0),containerClass=classnames_default()("didi-select",{"menu-is-open":menuOpen,"is-disabled":disabled,"is-multiple":multiple}),handleOptionClick=(e,optionValue)=>{e.preventDefault(),e.stopPropagation(),multiple||(setMenuOpen(!menuOpen),setValue(optionValue));let updatedValue=[optionValue];multiple&&(setValue(""),selectedValues.includes(optionValue)?(updatedValue=selectedValues.filter((value=>value!==optionValue)),setSelectedValues(updatedValue)):(updatedValue=[...selectedValues,optionValue],setSelectedValues(updatedValue))),onChange&&onChange(optionValue,updatedValue)},passContext={selectedValues,onSelect:handleOptionClick};return(0,useClickOutSide.A)(containerRef,(()=>{setMenuOpen(!1)})),(0,react.useEffect)((()=>{input.current&&(input.current.focus(),multiple&&selectedValues.length>0?input.current.placeholder="":placeholder&&(input.current.placeholder=placeholder))}),[selectedValues,multiple,placeholder]),(0,react.useEffect)((()=>{containerRef.current&&(containerWidth.current=containerRef.current.getBoundingClientRect().width)})),(0,jsx_runtime.jsxs)("div",{className:containerClass,ref:containerRef,children:[(0,jsx_runtime.jsx)("div",{className:"didi-select-input",onClick:e=>{e.preventDefault(),disabled||(setMenuOpen(!menuOpen),onVisibleChange&&onVisibleChange(!0))},children:(0,jsx_runtime.jsx)(Input_input.A,{ref:input,placeholder,name,icon:"angle-down",readOnly:!0,value})}),(0,jsx_runtime.jsx)(SelectContext.Provider,{value:passContext,children:(0,jsx_runtime.jsx)(transition.A,{in:menuOpen,timeout:300,animation:"zoom-in-top",children:(0,jsx_runtime.jsx)("ul",{className:"didi-select-dropdown",children:react.Children.map(children,((child,i)=>{const childElement=child;if("Option"===childElement.type.displayName)return react.cloneElement(childElement,{index:`select-${i}`});console.error("Warning: Select has a child which is not a Option component")}))})})}),(0,jsx_runtime.jsx)("div",{className:"didi-selected-tags",style:{maxWidth:containerWidth.current-32},children:multiple&&selectedValues.map(((value,index)=>(0,jsx_runtime.jsxs)("span",{"data-testid":"didi-tag",className:"didi-tag",onClick:e=>handleOptionClick(e,value),children:[value,(0,jsx_runtime.jsx)(icon.A,{icon:"times"})]},`tag-${index}`)))})]})},Select_select=Select;try{Select.displayName="Select",Select.__docgenInfo={description:"下拉选择器。\n弹出一个下拉菜单给用户选择操作，用于代替原生的选择器，或者需要一个更优雅的多选器时。\n### 引用方法\n\n~~~js\nimport { Select } from 'didiship'\n// 然后可以使用 <Select> 和 <Select.Option>\n~~~",displayName:"Select",props:{defaultValue:{defaultValue:null,description:"指定默认选中的条目\t 可以是是字符串或者字符串数组",name:"defaultValue",required:!1,type:{name:"string | string[]"}},placeholder:{defaultValue:{value:"请选择"},description:"选择框默认文字",name:"placeholder",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"是否禁用",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"是否支持多选",name:"multiple",required:!1,type:{name:"boolean"}},name:{defaultValue:{value:"didi-select"},description:"select input 的 name 属性",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"选中值发生变化时触发",name:"onChange",required:!1,type:{name:"((selectedValue: string, selectedValues: string[]) => void)"}},onVisibleChange:{defaultValue:null,description:"下拉框出现/隐藏时触发",name:"onVisibleChange",required:!1,type:{name:"((visible: boolean) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Select/select.tsx#Select"]={docgenInfo:Select.__docgenInfo,name:"Select",path:"src/components/Select/select.tsx#Select"})}catch(__react_docgen_typescript_loader_error){}try{select.displayName="select",select.__docgenInfo={description:"下拉选择器。\n弹出一个下拉菜单给用户选择操作，用于代替原生的选择器，或者需要一个更优雅的多选器时。\n### 引用方法\n\n~~~js\nimport { Select } from 'didiship'\n// 然后可以使用 <Select> 和 <Select.Option>\n~~~",displayName:"select",props:{defaultValue:{defaultValue:null,description:"指定默认选中的条目\t 可以是是字符串或者字符串数组",name:"defaultValue",required:!1,type:{name:"string | string[]"}},placeholder:{defaultValue:{value:"请选择"},description:"选择框默认文字",name:"placeholder",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"是否禁用",name:"disabled",required:!1,type:{name:"boolean"}},multiple:{defaultValue:null,description:"是否支持多选",name:"multiple",required:!1,type:{name:"boolean"}},name:{defaultValue:{value:"didi-select"},description:"select input 的 name 属性",name:"name",required:!1,type:{name:"string"}},onChange:{defaultValue:null,description:"选中值发生变化时触发",name:"onChange",required:!1,type:{name:"((selectedValue: string, selectedValues: string[]) => void)"}},onVisibleChange:{defaultValue:null,description:"下拉框出现/隐藏时触发",name:"onVisibleChange",required:!1,type:{name:"((visible: boolean) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Select/select.tsx#select"]={docgenInfo:select.__docgenInfo,name:"select",path:"src/components/Select/select.tsx#select"})}catch(__react_docgen_typescript_loader_error){}const Option=_ref=>{let{index,value,label,disabled,children}=_ref;const{onSelect,selectedValues}=(0,react.useContext)(SelectContext),isSelected=selectedValues.includes(value),classes=classnames_default()("didi-select-item",{"is-disabled":disabled,"is-selected":isSelected});return(0,jsx_runtime.jsxs)("li",{className:classes,onClick:e=>((e,value)=>{e.preventDefault(),onSelect&&onSelect(e,value)})(e,value),children:[label||children||value,isSelected&&(0,jsx_runtime.jsx)("span",{children:(0,jsx_runtime.jsx)(icon.A,{icon:"check"})})]},index)};Option.displayName="Option";const Select_option=Option;try{Option.displayName="Option",Option.__docgenInfo={description:"",displayName:"Option",props:{index:{defaultValue:null,description:"",name:"index",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"默认根据此属性值进行筛选，该值不能相同",name:"value",required:!0,type:{name:"string"}},label:{defaultValue:null,description:"选项的标签，若不设置则默认与 value 相同",name:"label",required:!1,type:{name:"string"}},disabled:{defaultValue:null,description:"是否禁用该选项",name:"disabled",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Select/option.tsx#Option"]={docgenInfo:Option.__docgenInfo,name:"Option",path:"src/components/Select/option.tsx#Option"})}catch(__react_docgen_typescript_loader_error){}const select_stories={component:Select_select,title:"Select",tags:["autodocs"]},DefaultSelect={name:"默认select",args:{multiple:!1},render:args=>(0,jsx_runtime.jsxs)(Select_select,{...args,children:[(0,jsx_runtime.jsx)(Select_option,{value:"1",label:"Option 1"}),(0,jsx_runtime.jsx)(Select_option,{value:"2",label:"Option 2"}),(0,jsx_runtime.jsx)(Select_option,{value:"3",label:"Option 3",disabled:!0}),(0,jsx_runtime.jsx)(Select_option,{value:"4",label:"Option 4"})]})},MultipleSelect={name:"多选select",args:{multiple:!0,onChange:(value,values)=>{console.log(value,values)}},render:args=>(0,jsx_runtime.jsxs)(Select_select,{...args,children:[(0,jsx_runtime.jsx)(Select_option,{value:"1",label:"Option 1"}),(0,jsx_runtime.jsx)(Select_option,{value:"2",label:"Option 2"}),(0,jsx_runtime.jsx)(Select_option,{value:"3",label:"Option 3"})]})},DisabledSelect={name:"禁用的select",args:{disabled:!0,placeholder:"禁用"},render:args=>(0,jsx_runtime.jsxs)(Select_select,{...args,children:[(0,jsx_runtime.jsx)(Select_option,{value:"1",label:"Option 1"}),(0,jsx_runtime.jsx)(Select_option,{value:"2",label:"Option 2"}),(0,jsx_runtime.jsx)(Select_option,{value:"3",label:"Option 3"})]})},__namedExportsOrder=["DefaultSelect","MultipleSelect","DisabledSelect"];DefaultSelect.parameters={...DefaultSelect.parameters,docs:{...DefaultSelect.parameters?.docs,source:{originalSource:'{\n  name: \'默认select\',\n  args: {\n    multiple: false\n  },\n  render: args => <Select {...args}>\r\n      <Option value="1" label="Option 1" />\r\n      <Option value="2" label="Option 2" />\r\n      <Option value="3" label="Option 3" disabled={true} />\r\n      <Option value="4" label="Option 4" />\r\n    </Select>\n}',...DefaultSelect.parameters?.docs?.source}}},MultipleSelect.parameters={...MultipleSelect.parameters,docs:{...MultipleSelect.parameters?.docs,source:{originalSource:'{\n  name: \'多选select\',\n  args: {\n    multiple: true,\n    onChange: (value: string, values: string[]) => {\n      console.log(value, values);\n    }\n  },\n  render: args => <Select {...args}>\r\n      <Option value="1" label="Option 1" />\r\n      <Option value="2" label="Option 2" />\r\n      <Option value="3" label="Option 3" />\r\n    </Select>\n}',...MultipleSelect.parameters?.docs?.source}}},DisabledSelect.parameters={...DisabledSelect.parameters,docs:{...DisabledSelect.parameters?.docs,source:{originalSource:'{\n  name: \'禁用的select\',\n  args: {\n    disabled: true,\n    placeholder: \'禁用\'\n  },\n  render: args => <Select {...args}>\r\n      <Option value="1" label="Option 1" />\r\n      <Option value="2" label="Option 2" />\r\n      <Option value="3" label="Option 3" />\r\n    </Select>\n}',...DisabledSelect.parameters?.docs?.source}}}},"./src/components/Icon/icon.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var _fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/@fortawesome/react-fontawesome/index.es.js"),classnames__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_2__),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Icon=props=>{const{className,theme,...restProps}=props,classes=classnames__WEBPACK_IMPORTED_MODULE_2___default()("didi-icon",className,{[`icon-${theme}`]:theme});return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_fortawesome_react_fontawesome__WEBPACK_IMPORTED_MODULE_1__.g,{className:classes,...restProps})},__WEBPACK_DEFAULT_EXPORT__=Icon;try{Icon.displayName="Icon",Icon.__docgenInfo={description:"",displayName:"Icon",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"warning"'},{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"danger"'},{value:'"light"'},{value:'"dark"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Icon/icon.tsx#Icon"]={docgenInfo:Icon.__docgenInfo,name:"Icon",path:"src/components/Icon/icon.tsx#Icon"})}catch(__react_docgen_typescript_loader_error){}try{icon.displayName="icon",icon.__docgenInfo={description:"",displayName:"icon",props:{theme:{defaultValue:null,description:"",name:"theme",required:!1,type:{name:"enum",value:[{value:'"info"'},{value:'"warning"'},{value:'"primary"'},{value:'"secondary"'},{value:'"success"'},{value:'"danger"'},{value:'"light"'},{value:'"dark"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Icon/icon.tsx#icon"]={docgenInfo:icon.__docgenInfo,name:"icon",path:"src/components/Icon/icon.tsx#icon"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Input/input.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),react__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/index.js"),_Icon_icon__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./src/components/Icon/icon.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Input=(0,react__WEBPACK_IMPORTED_MODULE_1__.forwardRef)(((_ref,ref)=>{let{disabled,size,icon,prepend,append,...restProps}=_ref;const classes=classnames__WEBPACK_IMPORTED_MODULE_0___default()("didi-input-wrapper",{[`input-size-${size}`]:size,"input-group":prepend||append,"input-group-append":!!append,"input-group-prepend":!!prepend,"is-disabled":disabled});var value;return"value"in restProps&&(delete restProps.defaultValue,restProps.value=null==(value=restProps.value)?"":value),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsxs)("div",{className:classes,"data-testid":"didi-input-wrapper",children:[prepend&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"-didi-input-group-prepend",children:prepend}),icon&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"icon-wrapper",children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)(_Icon_icon__WEBPACK_IMPORTED_MODULE_2__.A,{icon,title:`title-${icon}`})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("input",{ref,className:"didi-input-inner",disabled,...restProps}),append&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_3__.jsx)("div",{className:"input-group-append",children:append})]})})),__WEBPACK_DEFAULT_EXPORT__=Input;try{Input.displayName="Input",Input.__docgenInfo={description:"Input 输入框 通过鼠标或键盘输入内容，是最基础的表单域的包装。\n### 引用方法\n\n~~~js\nimport { Input } from 'didiship'\n~~~",displayName:"Input",props:{disabled:{defaultValue:null,description:"是否禁用 Input",name:"disabled",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"设置 input 大小，支持 lg 或者是 sm",name:"size",required:!1,type:{name:"enum",value:[{value:'"lg"'},{value:'"sm"'}]}},icon:{defaultValue:null,description:"添加图标，在右侧悬浮添加一个图标，用于提示",name:"icon",required:!1,type:{name:"IconProp"}},prepend:{defaultValue:null,description:"添加前缀 用于配置一些固定组合",name:"prepend",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},append:{defaultValue:null,description:"添加后缀 用于配置一些固定组合",name:"append",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: ChangeEvent<HTMLInputElement>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Input/input.tsx#Input"]={docgenInfo:Input.__docgenInfo,name:"Input",path:"src/components/Input/input.tsx#Input"})}catch(__react_docgen_typescript_loader_error){}try{input.displayName="input",input.__docgenInfo={description:"Input 输入框 通过鼠标或键盘输入内容，是最基础的表单域的包装。\n### 引用方法\n\n~~~js\nimport { Input } from 'didiship'\n~~~",displayName:"input",props:{disabled:{defaultValue:null,description:"是否禁用 Input",name:"disabled",required:!1,type:{name:"boolean"}},size:{defaultValue:null,description:"设置 input 大小，支持 lg 或者是 sm",name:"size",required:!1,type:{name:"enum",value:[{value:'"lg"'},{value:'"sm"'}]}},icon:{defaultValue:null,description:"添加图标，在右侧悬浮添加一个图标，用于提示",name:"icon",required:!1,type:{name:"IconProp"}},prepend:{defaultValue:null,description:"添加前缀 用于配置一些固定组合",name:"prepend",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},append:{defaultValue:null,description:"添加后缀 用于配置一些固定组合",name:"append",required:!1,type:{name:"string | ReactElement<any, string | JSXElementConstructor<any>>"}},onChange:{defaultValue:null,description:"",name:"onChange",required:!1,type:{name:"((e: ChangeEvent<HTMLInputElement>) => void)"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Input/input.tsx#input"]={docgenInfo:input.__docgenInfo,name:"input",path:"src/components/Input/input.tsx#input"})}catch(__react_docgen_typescript_loader_error){}},"./src/components/Transition/transition.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});__webpack_require__("./node_modules/react/index.js");var react_transition_group__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react-transition-group/esm/CSSTransition.js"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const Transition=_ref=>{let{children,classNames,animation,wrapper,...restProps}=_ref;return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_transition_group__WEBPACK_IMPORTED_MODULE_2__.A,{classNames:classNames||animation,...restProps,children:wrapper?(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)("div",{children}):children})};Transition.defaultProps={unmountOnExit:!0,appear:!0};const __WEBPACK_DEFAULT_EXPORT__=Transition;try{transition.displayName="transition",transition.__docgenInfo={description:"",displayName:"transition",props:{classNames:{defaultValue:null,description:"The animation `classNames` applied to the component as it enters or exits.\nA single name can be provided and it will be suffixed for each stage: e.g.\n\n`classNames=\"fade\"` applies `fade-enter`, `fade-enter-active`,\n`fade-exit`, `fade-exit-active`, `fade-appear`, and `fade-appear-active`.\n\nEach individual classNames can also be specified independently like:\n\n```js\nclassNames={{\n  appear: 'my-appear',\n  appearActive: 'my-appear-active',\n  appearDone: 'my-appear-done',\n  enter: 'my-enter',\n  enterActive: 'my-enter-active',\n  enterDone: 'my-enter-done',\n  exit: 'my-exit',\n  exitActive: 'my-exit-active',\n  exitDone: 'my-exit-done'\n}}\n```",name:"classNames",required:!1,type:{name:"string | CSSTransitionClassNames"}},animation:{defaultValue:null,description:"",name:"animation",required:!1,type:{name:"enum",value:[{value:'"zoom-in-top"'},{value:'"zoom-in-left"'},{value:'"zoom-in-bottom"'},{value:'"zoom-in-right"'}]}},wrapper:{defaultValue:null,description:"",name:"wrapper",required:!1,type:{name:"boolean"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/components/Transition/transition.tsx#transition"]={docgenInfo:transition.__docgenInfo,name:"transition",path:"src/components/Transition/transition.tsx#transition"})}catch(__react_docgen_typescript_loader_error){}},"./src/hooks/useClickOutSide.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{A:()=>__WEBPACK_DEFAULT_EXPORT__});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/index.js");const __WEBPACK_DEFAULT_EXPORT__=function useClickOutside(ref,handler){(0,react__WEBPACK_IMPORTED_MODULE_0__.useEffect)((()=>{const listener=event=>{ref.current&&!ref.current.contains(event.target)&&handler(event)};return document.addEventListener("click",listener),()=>{document.removeEventListener("click",listener)}}),[ref,handler])}}}]);